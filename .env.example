# AsforceS Voice - Environment Variables Template
# Copy this file to .env.local and fill in your values

# =============================================================================
# GENERAL
# =============================================================================
NODE_ENV=development
LOG_LEVEL=debug

# =============================================================================
# PORTAL (Landing Page)
# =============================================================================
VITE_APP_NAME="AsforceS Voice"
VITE_APP_URL=http://localhost:3000
VITE_API_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001

# =============================================================================
# API SERVER (NestJS)
# =============================================================================
# Server
API_PORT=3001
API_HOST=0.0.0.0
API_PREFIX=api/v1

# CORS
CORS_ORIGIN=http://localhost:3000,http://localhost:3002
CORS_CREDENTIALS=true

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your-refresh-token-secret-change-this
REFRESH_TOKEN_EXPIRES_IN=30d
ARGON2_MEMORY=65536
ARGON2_ITERATIONS=3
ARGON2_PARALLELISM=4

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL
DATABASE_URL="postgresql://asforces:password@localhost:5432/asforces_voice?schema=public"
DB_HOST=localhost
DB_PORT=5432
DB_NAME=asforces_voice
DB_USER=asforces
DB_PASSWORD=your-secure-db-password

# Redis
REDIS_URL="redis://localhost:6379"
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# EMAIL
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
EMAIL_FROM="AsforceS Voice <noreply@asforces.com>"

# =============================================================================
# WEBRTC & MEDIA
# =============================================================================
# STUN Servers
STUN_SERVER_1=stun:stun.l.google.com:19302
STUN_SERVER_2=stun:stun1.l.google.com:19302

# TURN Server (coturn)
TURN_SERVER=turn:turn.asforces.com:443?transport=tcp
TURN_USERNAME=asforces
TURN_PASSWORD=your-turn-secret-password
TURN_SECRET=your-coturn-static-auth-secret

# Media Constraints
MAX_BITRATE=128000
VIDEO_MAX_BITRATE=2500000
SCREEN_MAX_BITRATE=4000000

# =============================================================================
# STORAGE
# =============================================================================
# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4

# S3 / Object Storage (Optional)
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_REGION=eu-central-1

# =============================================================================
# OBSERVABILITY
# =============================================================================
# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# OpenTelemetry (Optional)
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4318

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# CAPTCHA (Cloudflare Turnstile or hCaptcha)
CAPTCHA_SITE_KEY=
CAPTCHA_SECRET_KEY=

# Analytics (Optional)
ANALYTICS_ID=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_2FA_ENABLED=true
FEATURE_EMAIL_VERIFICATION_REQUIRED=true
FEATURE_REGISTRATION_ENABLED=true
FEATURE_GUEST_ACCESS_ENABLED=false
FEATURE_SCREEN_SHARE_ENABLED=true
FEATURE_VIDEO_ENABLED=true

# =============================================================================
# DOCKER (Production)
# =============================================================================
DOCKER_REGISTRY=
DOCKER_IMAGE_TAG=latest

# =============================================================================
# CI/CD
# =============================================================================
DEPLOY_SSH_HOST=
DEPLOY_SSH_USER=
DEPLOY_SSH_KEY_PATH=
DEPLOY_PATH=/opt/asforces-voice

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit .env files to git
# 2. Use different values for each environment (dev, staging, prod)
# 3. Rotate secrets regularly
# 4. Use strong passwords (min 32 chars for secrets)
# 5. Enable 2FA on all production services
